# Release v1.5 - Product Direction

Date: 2026-02-17  
Status: Planning

## Why v1.5

v1.4 improves orchestration and freshness, but three trader-critical gaps remain:

1. Market state is still too shallow for microstructure-aware execution.
2. Learning loops are weak because decisions are not fully labeled and scored post-trade.
3. Strategy automation is still too manual for continuous, policy-constrained execution.

## v1.5 Objectives

1. Add richer market state for execution and signal quality (`funding`, `OI`, `liquidations`, flow features, cross-venue lead/lag).
2. Add systematic feedback labels for every trade decision component (direction, timing, sizing, exit).
3. Add counterfactual analytics to measure "what would have happened" under alternate sizing/exit paths.
4. Productize reusable automated playbooks with strict risk and regime gating.
5. Upgrade portfolio-level risk controls (basket constraints, regime-aware leverage caps).
6. Add provider-resilient web search (OpenClaw-style fallback chain + caching + budgets) so quota exhaustion does not disable intelligence.

## Scope Pillars

## 1) Richer Market State and Microstructure

- Ingest high-resolution derivatives state (funding, open interest, liquidations, positioning skew).
- Add microstructure features (depth imbalance, sweep pressure proxies, short-horizon flow diagnostics).
- Add cross-venue snapshots (Binance/OKX/Deribit/majors) for lead-lag and divergence checks.
- Record execution telemetry (latency, fill quality, maker/taker outcome stats).

## 2) Feedback and Labeling

- Label each decision leg: entry direction, entry timing, sizing quality, exit quality.
- Attach environment labels at decision time: regime, volatility bucket, stress indicators.
- Produce periodic attribution reports that separate signal quality from execution quality.

## 3) Counterfactual Analytics

- Compute counterfactual PnL for alternative holding windows, exit logic, and size fractions.
- Persist deterministic replay metadata for auditability.
- Expose counterfactual summaries in reports and playbook evaluations.

## 4) Execution and Strategy Automation

- Add reusable parameterized playbooks (funding squeeze, liquidation cascade fade, trend pullback continuation).
- Add native conditional order logic (brackets, time exits, regime-based enable/disable).
- Add continuous playbook runtime with strict policy guards and automatic reevaluation.

## 5) Portfolio-Level Risk Infrastructure

- Add basket-level leverage and exposure caps.
- Add regime-aware risk caps and dynamic constraint selection.
- Add clearer policy reason codes for blocked/downweighted execution at portfolio scope.

## 6) Search Provider Resilience and Cost Control

- Add a provider abstraction for web search with configurable fallback order.
- Support multiple providers (for example Brave first, then Perplexity/OpenRouter, then SerpApi when configured).
- Add shared response caching with TTL and deterministic cache keys to reduce repeated spend.
- Add provider budget controls (per-turn/per-day query caps) and circuit-breaker behavior on quota/rate-limit errors.
- Persist provider usage and failure telemetry for operational visibility.

## Non-Goals (v1.5)

- No "fully autonomous everything" mode without policy gates.
- No mandatory HFT-grade queue-position modeling in first v1.5 release.
- No removal of existing v1.4 risk policies.
- No single paid-provider dependency that can hard-stop search when monthly credits are exhausted.

## Success Metrics

1. At least 95% of executed trades have complete decision-component labels.
2. Counterfactual analytics available for at least 90% of closed trades.
3. At least 3 automated playbooks run continuously with policy-compliant execution.
4. Portfolio-level caps prevent configured breach scenarios in deterministic tests.
5. Signal/execution attribution reports show component-level win/loss contribution over rolling windows.
6. Web search continues through fallback providers when a primary provider hits quota/rate limits.
